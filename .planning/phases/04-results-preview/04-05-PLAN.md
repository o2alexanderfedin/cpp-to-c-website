# Phase 4, Plan 04-05: Complete E2E Test Suite

**Phase**: 04 - Results Preview & Download
**Plan**: 04-05 - Complete E2E Test Suite
**Scope**: End-to-end tests for complete wizard flow through all 4 steps
**Estimate**: 2 hours

---

## Objective

Create comprehensive end-to-end tests using Playwright to verify the complete wizard flow from source selection through transpilation to results preview and download, covering happy paths, error scenarios, and edge cases.

**Why**: Ensures the complete wizard works reliably across all steps, catches integration issues that unit tests miss, provides regression protection for future changes, and validates the user experience end-to-end.

---

## Context

**Existing E2E tests to reference:**
- `@tests/e2e/specs/wizard-navigation.spec.ts` - Phase 1 navigation tests (from 01-03)
- `@tests/e2e/pages/WizardPage.ts` - Page object model for wizard

**Patterns to follow:**
- Playwright with TypeScript (existing pattern)
- Page Object Model for wizard components
- Test data fixtures for mock projects
- Descriptive test names and assertions
- Arrange-Act-Assert pattern

**Test coverage areas:**
1. Complete happy path (all 4 steps)
2. Small project (3 files)
3. Larger project (50+ files)
4. Error scenarios (invalid directories, transpilation errors)
5. Download functionality (ZIP and individual files)
6. File preview and selection
7. Error summary and navigation
8. Metrics accuracy

**Key Requirements:**
- Tests run in isolated browser context
- Mock File System Access API (Playwright doesn't support real file system)
- Test data fixtures for C++ projects
- Verify visual states (empty, loading, success, error)
- Test all user interactions (click, select, download)
- Performance checks (no excessive delays)

---

## Tasks

### Task 1: Create Test Data Fixtures
**Type**: create
**Files**: `tests/e2e/fixtures/projects.ts`

**Action**:
Create test project fixtures with C++ source files:

```typescript
/**
 * Test project fixtures for E2E tests
 */

export interface TestFile {
  path: string;
  name: string;
  content: string;
}

export interface TestProject {
  name: string;
  files: TestFile[];
}

/**
 * Small project with 3 files
 */
export const smallProject: TestProject = {
  name: 'small-project',
  files: [
    {
      path: 'main.cpp',
      name: 'main.cpp',
      content: `#include <iostream>

int main() {
    std::cout << "Hello, World!" << std::endl;
    return 0;
}`,
    },
    {
      path: 'helper.cpp',
      name: 'helper.cpp',
      content: `#include "helper.h"

int add(int a, int b) {
    return a + b;
}`,
    },
    {
      path: 'helper.h',
      name: 'helper.h',
      content: `#ifndef HELPER_H
#define HELPER_H

int add(int a, int b);

#endif`,
    },
  ],
};

/**
 * Larger project with nested directories
 */
export const largeProject: TestProject = {
  name: 'large-project',
  files: [
    {
      path: 'src/main.cpp',
      name: 'main.cpp',
      content: `#include <iostream>
#include "core/engine.h"

int main() {
    Engine engine;
    engine.run();
    return 0;
}`,
    },
    {
      path: 'src/core/engine.cpp',
      name: 'engine.cpp',
      content: `#include "engine.h"
#include <iostream>

void Engine::run() {
    std::cout << "Engine running" << std::endl;
}`,
    },
    {
      path: 'src/core/engine.h',
      name: 'engine.h',
      content: `#ifndef ENGINE_H
#define ENGINE_H

class Engine {
public:
    void run();
};

#endif`,
    },
    // Add more files to reach 50+ (can generate in loop)
  ],
};

/**
 * Project with intentional errors
 */
export const errorProject: TestProject = {
  name: 'error-project',
  files: [
    {
      path: 'valid.cpp',
      name: 'valid.cpp',
      content: `int main() { return 0; }`,
    },
    {
      path: 'invalid.cpp',
      name: 'invalid.cpp',
      content: `// This will cause a transpilation error
#error "Intentional error for testing"
int main() { return 0; }`,
    },
  ],
};

/**
 * Generate a large project with N files
 */
export function generateLargeProject(fileCount: number): TestProject {
  const files: TestFile[] = [];

  for (let i = 0; i < fileCount; i++) {
    const dirIndex = Math.floor(i / 10);
    const path = `src/dir${dirIndex}/file${i}.cpp`;
    const name = `file${i}.cpp`;
    const content = `// File ${i}
int function${i}() {
    return ${i};
}`;

    files.push({ path, name, content });
  }

  return {
    name: `large-project-${fileCount}`,
    files,
  };
}
```

**Verify**:
- Fixtures compile without TypeScript errors
- Valid C++ syntax in test files
- Error project has intentional error
- generateLargeProject creates N files correctly

**Done**: âœ… Test fixtures created

---

### Task 2: Enhance Wizard Page Object
**Type**: update
**Files**: `tests/e2e/pages/WizardPage.ts`

**Action**:
Extend WizardPage with methods for Step 4 Results:

```typescript
// Add to existing WizardPage class:

/**
 * Step 4: Results page methods
 */

// Get statistics
async getStatistics() {
  const total = await this.page.locator('.stat-value').first().textContent();
  const successful = await this.page.locator('.stat-success .stat-value').textContent();
  return { total, successful };
}

// Select file from tree
async selectFileInTree(filename: string) {
  await this.page.locator('.tree-node', { hasText: filename }).click();
}

// Get selected file in dual-pane viewer
async getSelectedFileInViewer() {
  const sourceFilename = await this.page.locator('.file-content-header .file-content-filename').first().textContent();
  return sourceFilename;
}

// Check if file content is displayed
async isFileContentDisplayed() {
  const sourceContent = await this.page.locator('.syntax-highlighter').first().textContent();
  return sourceContent && sourceContent.length > 0;
}

// Click download ZIP button
async downloadAllAsZip() {
  await this.page.locator('button', { hasText: 'Download All as ZIP' }).click();
}

// Click download current file button
async downloadCurrentFile() {
  await this.page.locator('button', { hasText: /Download .+/ }).click();
}

// Get error count from error summary
async getErrorCount() {
  const errorHeader = await this.page.locator('.error-summary h3').textContent();
  const match = errorHeader?.match(/\((\d+)\)/);
  return match ? parseInt(match[1], 10) : 0;
}

// Click error file link
async clickErrorFile(filename: string) {
  await this.page.locator('.error-file-link', { hasText: filename }).click();
}

// Check if metrics are displayed
async areMetricsDisplayed() {
  return await this.page.locator('.metrics-section').isVisible();
}

// Check if download options are displayed
async areDownloadOptionsDisplayed() {
  return await this.page.locator('.download-section').isVisible();
}
```

**Verify**:
- Methods compile without TypeScript errors
- Selectors match actual DOM structure
- Methods use async/await correctly
- No duplicate method names

**Done**: âœ… WizardPage enhanced with Step 4 methods

---

### Task 3: Create Complete Flow E2E Test
**Type**: test
**Files**: `tests/e2e/specs/wizard-complete-flow.spec.ts`

**Action**:
Create comprehensive E2E test for complete wizard flow:

```typescript
import { test, expect } from '@playwright/test';
import { WizardPage } from '../pages/WizardPage';
import { smallProject, errorProject, generateLargeProject } from '../fixtures/projects';

test.describe('Wizard Complete Flow', () => {
  let wizardPage: WizardPage;

  test.beforeEach(async ({ page }) => {
    wizardPage = new WizardPage(page);
    await wizardPage.goto();
  });

  test('completes full wizard flow with small project', async ({ page }) => {
    // Step 1: Select source directory
    await wizardPage.goToStep(1);
    await wizardPage.selectSourceDirectory(smallProject);

    // Verify tree shows files
    await expect(page.locator('.file-tree-view')).toBeVisible();
    await expect(page.locator('.tree-node', { hasText: 'main.cpp' })).toBeVisible();

    // Step 2: Select target directory
    await wizardPage.goToNextStep();
    await wizardPage.selectTargetDirectory();

    // Verify target directory selected
    await expect(page.locator('text=/Target directory:/i')).toBeVisible();

    // Step 3: Transpile
    await wizardPage.goToNextStep();
    await wizardPage.startTranspilation();

    // Wait for transpilation to complete
    await expect(page.locator('text=/Transpilation complete/i')).toBeVisible({ timeout: 10000 });

    // Step 4: Results
    await wizardPage.goToNextStep();

    // Verify statistics
    const stats = await wizardPage.getStatistics();
    expect(stats.total).toBe('3'); // 3 files in small project
    expect(stats.successful).toBe('3');

    // Verify metrics displayed
    expect(await wizardPage.areMetricsDisplayed()).toBe(true);

    // Verify download options displayed
    expect(await wizardPage.areDownloadOptionsDisplayed()).toBe(true);
  });

  test('displays file preview when file selected', async ({ page }) => {
    // Setup: Complete transpilation (Steps 1-3)
    await wizardPage.completeTranspilation(smallProject);

    // Step 4: Select file from tree
    await wizardPage.selectFileInTree('main.cpp');

    // Verify file content displayed in viewer
    expect(await wizardPage.isFileContentDisplayed()).toBe(true);

    // Verify filename in viewer header
    const filename = await wizardPage.getSelectedFileInViewer();
    expect(filename).toContain('main.cpp');

    // Verify syntax highlighting present
    await expect(page.locator('.syntax-highlighter')).toBeVisible();
  });

  test('switches between files in preview', async ({ page }) => {
    await wizardPage.completeTranspilation(smallProject);

    // Select first file
    await wizardPage.selectFileInTree('main.cpp');
    let filename = await wizardPage.getSelectedFileInViewer();
    expect(filename).toContain('main.cpp');

    // Select second file
    await wizardPage.selectFileInTree('helper.cpp');
    filename = await wizardPage.getSelectedFileInViewer();
    expect(filename).toContain('helper.cpp');

    // Verify content changed
    expect(await wizardPage.isFileContentDisplayed()).toBe(true);
  });

  test('downloads all files as ZIP', async ({ page }) => {
    await wizardPage.completeTranspilation(smallProject);

    // Set up download listener
    const downloadPromise = page.waitForEvent('download');

    // Click download ZIP button
    await wizardPage.downloadAllAsZip();

    // Verify download started
    const download = await downloadPromise;
    expect(download.suggestedFilename()).toContain('.zip');
  });

  test('downloads individual file', async ({ page }) => {
    await wizardPage.completeTranspilation(smallProject);

    // Select file
    await wizardPage.selectFileInTree('main.cpp');

    // Set up download listener
    const downloadPromise = page.waitForEvent('download');

    // Click download file button
    await wizardPage.downloadCurrentFile();

    // Verify download started
    const download = await downloadPromise;
    expect(download.suggestedFilename()).toContain('.c'); // Should be .c not .cpp
  });

  test('handles large project (50+ files)', async ({ page }) => {
    const largeProj = generateLargeProject(50);

    await wizardPage.completeTranspilation(largeProj);

    // Verify statistics
    const stats = await wizardPage.getStatistics();
    expect(stats.total).toBe('50');

    // Verify tree renders (virtualized)
    await expect(page.locator('.file-tree-view')).toBeVisible();

    // Verify can select file from large list
    await wizardPage.selectFileInTree('file0.cpp');
    expect(await wizardPage.isFileContentDisplayed()).toBe(true);
  });

  test('displays error summary for failed transpilations', async ({ page }) => {
    await wizardPage.completeTranspilation(errorProject);

    // Verify error summary visible
    await expect(page.locator('.error-summary')).toBeVisible();

    // Verify error count
    const errorCount = await wizardPage.getErrorCount();
    expect(errorCount).toBeGreaterThan(0);

    // Click error file link
    await wizardPage.clickErrorFile('invalid.cpp');

    // Verify file selected in viewer
    const filename = await wizardPage.getSelectedFileInViewer();
    expect(filename).toContain('invalid.cpp');
  });

  test('shows empty state when no transpilation results', async ({ page }) => {
    // Navigate to Step 4 without transpiling
    await wizardPage.goToStep(4);

    // Verify empty state message
    await expect(page.locator('text=/No Results Yet/i')).toBeVisible();

    // Verify tree and viewer not shown
    await expect(page.locator('.file-tree-view')).not.toBeVisible();
    await expect(page.locator('.dual-pane-viewer')).not.toBeVisible();
  });

  test('displays elapsed time metric', async ({ page }) => {
    await wizardPage.completeTranspilation(smallProject);

    // Verify time metric displayed
    await expect(page.locator('.metric-label', { hasText: 'Time Elapsed' })).toBeVisible();

    // Verify time value is reasonable (e.g., less than 10 seconds)
    const timeText = await page.locator('.metric-value').nth(2).textContent();
    expect(timeText).toMatch(/\d+(\.\d+)?s/);
  });

  test('highlights selected file in tree', async ({ page }) => {
    await wizardPage.completeTranspilation(smallProject);

    // Select file
    await wizardPage.selectFileInTree('main.cpp');

    // Verify file is highlighted
    await expect(page.locator('.tree-node.selected', { hasText: 'main.cpp' })).toBeVisible();
  });

  test('responsive layout on different screen sizes', async ({ page }) => {
    await wizardPage.completeTranspilation(smallProject);

    // Test desktop size (1920x1080)
    await page.setViewportSize({ width: 1920, height: 1080 });
    await expect(page.locator('.results-content')).toBeVisible();

    // Test tablet size (768x1024)
    await page.setViewportSize({ width: 768, height: 1024 });
    await expect(page.locator('.results-content')).toBeVisible();

    // Verify layout adapts (e.g., tree and viewer stack)
    // Note: specific layout checks depend on CSS media queries
  });
});
```

**Test features:**
1. Complete happy path test
2. File preview and selection
3. File switching
4. Download ZIP functionality
5. Download individual file
6. Large project handling
7. Error scenarios
8. Empty state
9. Metrics display
10. Tree highlighting
11. Responsive layout

**Verify**:
- All tests compile without TypeScript errors
- Tests use proper async/await
- Assertions are clear and descriptive
- Test data fixtures used correctly
- Download events handled properly

**Done**: âœ… Complete flow E2E tests created

---

### Task 4: Create Helper Method for Test Setup
**Type**: update
**Files**: `tests/e2e/pages/WizardPage.ts`

**Action**:
Add helper method to complete transpilation (used in multiple tests):

```typescript
// Add to WizardPage class:

/**
 * Complete Steps 1-3 (transpilation) for a test project
 * Helper method to set up Step 4 tests
 */
async completeTranspilation(project: TestProject) {
  // Step 1: Source
  await this.goToStep(1);
  await this.selectSourceDirectory(project);

  // Step 2: Target
  await this.goToNextStep();
  await this.selectTargetDirectory();

  // Step 3: Transpile
  await this.goToNextStep();
  await this.startTranspilation();
  await this.page.waitForSelector('text=/Transpilation complete/i', { timeout: 10000 });

  // Navigate to Step 4
  await this.goToNextStep();
}

/**
 * Mock File System Access API for testing
 * Note: Playwright doesn't support real file system access
 */
async selectSourceDirectory(project: TestProject) {
  // Mock implementation - will need to inject test data via page.evaluate
  await this.page.evaluate((projectData) => {
    // Mock FileSystemDirectoryHandle and files
    window.__mockSourceProject = projectData;
  }, project);

  await this.page.locator('button', { hasText: 'Select Directory' }).click();
  await this.page.waitForSelector('.file-tree-view');
}

async selectTargetDirectory() {
  // Mock target directory selection
  await this.page.evaluate(() => {
    window.__mockTargetDirectory = true;
  });

  await this.page.locator('button', { hasText: 'Select Target' }).click();
}

async startTranspilation() {
  await this.page.locator('button', { hasText: 'Start Transpilation' }).click();
}
```

**Note**: File System Access API mocking requires careful implementation. May need to:
1. Create mock handlers in browser context
2. Inject test data via window object
3. Stub FileSystemDirectoryHandle and FileSystemFileHandle
4. Return test file contents from mocks

**Alternative approach**: Use Playwright's `page.route()` to intercept API calls if WASM transpiler makes HTTP requests.

**Verify**:
- Helper method works in tests
- Mock directory selection functional
- Transpilation completes successfully
- No browser errors

**Done**: âœ… Test helper methods created

---

### Task 5: Run E2E Tests and Fix Issues
**Type**: test execution
**Files**: N/A (test run)

**Action**:
Run E2E tests and fix any issues:

```bash
# Run all E2E tests
npm run test:e2e

# Run specific test file
npx playwright test wizard-complete-flow.spec.ts

# Run in headed mode (see browser)
npx playwright test --headed

# Run in debug mode
npx playwright test --debug
```

**Common issues to fix:**
1. **Timing issues**: Add proper `waitFor` calls
2. **Selector mismatches**: Update selectors to match actual DOM
3. **Mock data issues**: Ensure test fixtures are valid
4. **Download handling**: Verify download event listeners work
5. **Async issues**: Ensure all async operations awaited

**Debugging steps:**
1. Run in headed mode to see browser
2. Use `page.pause()` to inspect state
3. Check browser console for errors
4. Verify mock data is injected correctly
5. Add screenshots on failure: `await page.screenshot({ path: 'failure.png' })`

**Verify**:
- All E2E tests pass
- No flaky tests (run multiple times)
- Test execution time reasonable (<30s total)
- No warnings or errors in output

**Done**: âœ… E2E tests passing

---

### Task 6: Add E2E Test to CI Pipeline
**Type**: update
**Files**: `.github/workflows/ci.yml` (if exists) or `package.json`

**Action**:
Ensure E2E tests run in CI:

**package.json scripts**:
```json
{
  "scripts": {
    "test": "vitest",
    "test:e2e": "playwright test",
    "test:all": "npm run test && npm run test:e2e"
  }
}
```

**CI workflow (if using GitHub Actions)**:
```yaml
# In .github/workflows/ci.yml
- name: Run unit tests
  run: npm run test

- name: Install Playwright browsers
  run: npx playwright install --with-deps

- name: Run E2E tests
  run: npm run test:e2e

- name: Upload test results
  if: failure()
  uses: actions/upload-artifact@v3
  with:
    name: playwright-report
    path: playwright-report/
```

**Verify**:
- E2E tests run in CI
- Playwright browsers install correctly
- Test reports uploaded on failure
- CI passes when tests pass

**Done**: âœ… E2E tests integrated into CI

---

### Task 7: Document Test Coverage
**Type**: documentation
**Files**: `tests/e2e/README.md` (create if doesn't exist)

**Action**:
Document E2E test coverage and how to run tests:

```markdown
# End-to-End Tests

## Overview

E2E tests verify the complete wizard flow from source selection through transpilation to results preview and download.

## Test Coverage

### Wizard Navigation (01-03)
- Step navigation (next/back)
- Step validation
- Keyboard navigation
- Accessibility

### Complete Wizard Flow (04-05)
- **Happy Path**:
  - Source directory selection with tree view
  - Target directory selection
  - Transpilation with progress
  - Results preview with dual-pane viewer
  - File selection and switching
  - Syntax highlighting
  - Download ZIP and individual files

- **Error Scenarios**:
  - Failed transpilations
  - Error summary display
  - Error file navigation

- **Edge Cases**:
  - Empty state (no results)
  - Large projects (50+ files)
  - Different screen sizes (responsive)

- **Performance**:
  - Large project handling
  - Virtualized tree view
  - Async file loading

## Running Tests

```bash
# Run all E2E tests
npm run test:e2e

# Run specific test file
npx playwright test wizard-complete-flow.spec.ts

# Run in headed mode (see browser)
npx playwright test --headed

# Run in debug mode
npx playwright test --debug

# Generate HTML report
npx playwright show-report
```

## Test Data

Test fixtures are located in `tests/e2e/fixtures/projects.ts`:
- `smallProject`: 3 files for quick tests
- `largeProject`: 50+ files for performance tests
- `errorProject`: Files with intentional errors
- `generateLargeProject(N)`: Generate project with N files

## Page Objects

`tests/e2e/pages/WizardPage.ts` provides methods for interacting with wizard:
- `goToStep(n)`: Navigate to step
- `selectFileInTree(name)`: Select file from tree
- `downloadAllAsZip()`: Download ZIP archive
- `completeTranspilation(project)`: Helper to complete Steps 1-3

## Mocking

File System Access API is mocked for testing:
- Source directory selection injects test data
- Target directory selection uses mock handler
- File content loaded from test fixtures

## CI Integration

E2E tests run in CI pipeline after unit tests. Playwright browsers are installed automatically.
```

**Verify**:
- Documentation is clear
- Examples work correctly
- All test commands documented
- Coverage areas listed

**Done**: âœ… Test documentation created

---

## Verification

**Overall checks after all tasks complete:**

1. âœ… `npm run test:e2e` passes all tests
2. âœ… Test fixtures created for small, large, and error projects
3. âœ… WizardPage enhanced with Step 4 methods
4. âœ… Complete flow test covers all 4 steps
5. âœ… File preview and selection tested
6. âœ… Download functionality tested (ZIP and individual)
7. âœ… Error scenarios tested
8. âœ… Empty state tested
9. âœ… Large project handling tested
10. âœ… Responsive layout tested
11. âœ… Helper methods work correctly
12. âœ… Tests run in CI pipeline
13. âœ… Test documentation complete
14. âœ… No flaky tests (run multiple times)
15. âœ… Test execution time reasonable
16. âœ… All tests descriptive and maintainable

---

## Success Criteria

- [x] Test data fixtures created (small, large, error projects)
- [x] generateLargeProject utility creates N files
- [x] WizardPage enhanced with Step 4 interaction methods
- [x] Complete flow E2E test covers all 4 steps
- [x] File preview and selection tested
- [x] File switching tested
- [x] Download ZIP tested
- [x] Download individual file tested
- [x] Large project (50+ files) tested
- [x] Error summary and navigation tested
- [x] Empty state tested
- [x] Metrics display tested
- [x] Tree highlighting tested
- [x] Responsive layout tested
- [x] Helper method for test setup (completeTranspilation)
- [x] File System Access API mocked correctly
- [x] All E2E tests pass reliably
- [x] Tests integrated into CI pipeline
- [x] Test documentation complete
- [x] No flaky tests
- [x] Test execution time <30s

---

## Output: SUMMARY.md

When this plan is complete, create `04-05-SUMMARY.md` with:

```markdown
# Phase 4, Plan 04-05: Complete E2E Test Suite - COMPLETE

**Status**: âœ… Complete
**Completed**: [date]
**Duration**: [actual time]

## What Was Built

- Created test data fixtures (small, large, error projects)
- Enhanced WizardPage with Step 4 interaction methods
- Created comprehensive E2E test for complete wizard flow (11 test cases)
- Tested happy path, error scenarios, edge cases
- Tested download functionality (ZIP and individual files)
- Tested large project handling (50+ files)
- Tested responsive layout
- Created helper methods for test setup
- Mocked File System Access API for testing
- Integrated E2E tests into CI pipeline
- Documented test coverage and how to run tests

## Files Changed

- `tests/e2e/fixtures/projects.ts` - NEW (test data fixtures)
- `tests/e2e/pages/WizardPage.ts` - UPDATED (Step 4 methods)
- `tests/e2e/specs/wizard-complete-flow.spec.ts` - NEW (11 tests)
- `tests/e2e/README.md` - NEW (test documentation)
- `package.json` - UPDATED (test scripts)
- `.github/workflows/ci.yml` - UPDATED (CI integration, if applicable)

## Tests

- E2E tests: 11 passing, 0 failing
- Test execution time: X seconds (target: <30s)
- Coverage areas:
  - Complete happy path (all 4 steps)
  - File preview and selection
  - Download functionality (ZIP + individual)
  - Error scenarios
  - Edge cases (empty state, large projects)
  - Responsive layout
  - Metrics and statistics
  - Tree highlighting

## Verification

âœ… All success criteria met
âœ… No flaky tests (verified with multiple runs)
âœ… Tests pass in CI pipeline
âœ… Test execution time acceptable
âœ… Test documentation complete
âœ… Mocking works correctly
âœ… All wizard paths covered

## Test Coverage Summary

**Phase 1**: Wizard navigation (3 tests) - from 01-03
**Phase 4**: Complete flow (11 tests) - from 04-05
**Total**: 14+ E2E tests covering entire wizard

**Coverage**:
- âœ… All 4 wizard steps
- âœ… Source/target selection
- âœ… Transpilation with progress
- âœ… Results preview and download
- âœ… Error handling
- âœ… Edge cases
- âœ… Performance (large projects)
- âœ… Responsive design

## Deviations from Plan

[None] OR [List any changes made during implementation]

## Next Steps

**Phase 4 Complete!** ðŸŽ‰

All 5 plans completed:
- âœ… 04-01: Dual-Pane Viewer Layout
- âœ… 04-02: Syntax Highlighting
- âœ… 04-03: Results Step Integration
- âœ… 04-04: Download Options & Polish
- âœ… 04-05: Complete E2E Test Suite

Ready for:
- Phase 5 or other future enhancements
- Production deployment
- User acceptance testing

## Commits

- `[commit-hash]` test(04-05): Add test data fixtures for E2E tests
- `[commit-hash]` test(04-05): Enhance WizardPage with Step 4 methods
- `[commit-hash]` test(04-05): Add complete wizard flow E2E tests
- `[commit-hash]` test(04-05): Integrate E2E tests into CI pipeline
- `[commit-hash]` docs(04-05): Add E2E test documentation
```

---

**Ready to execute**: Run this plan with `/run-plan .planning/phases/04-results-preview/04-05-PLAN.md`
